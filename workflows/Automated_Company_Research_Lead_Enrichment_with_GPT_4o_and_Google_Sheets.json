{
  "nodes": [
    {
      "id": "71b06728-7f59-49e3-9365-3281189a6659",
      "name": "When clicking \"Test workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        920,
        340
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "b37019e3-c7ab-4119-986d-c27d082a036e",
      "name": "Input",
      "type": "n8n-nodes-base.set",
      "position": [
        1340,
        340
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "fcc97354-b9f6-4459-a004-46e87902c77c",
              "name": "company_input",
              "type": "string",
              "value": "={{ $json.input }}"
            },
            {
              "id": "e5415c49-5204-45b1-a0e9-814157127b12",
              "name": "row_number",
              "type": "number",
              "value": "={{ $json.row_number }}"
            }
          ]
        }
      },
      "typeVersion": 3.3
    },
    {
      "id": "7d5d53ac-6d3c-4b24-97c7-deb6b76749e5",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2020,
        660
      ],
      "parameters": {
        "model": "gpt-4o",
        "options": {
          "temperature": 0.3
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "FMTQypGcsAwaRQdC",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "24e2f3b0-8b90-49a9-bde6-0fb0c2baf52a",
      "name": "Get website content",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        2580,
        680
      ],
      "parameters": {
        "name": "get_website_content",
        "source": "parameter",
        "description": "This tool will return the text from the given URL. ",
        "workflowJson": "{\n\u00a0 \"meta\": {\n\u00a0 \u00a0 \"templateCredsSetupCompleted\": true,\n\u00a0 \u00a0 \"instanceId\": \"2b1cc1a8b0a2fb9caab11ab2d5eb3712f9973066051b2e898cf4041a1f2a7757\"\n\u00a0 },\n\u00a0 \"nodes\": [\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \"parameters\": {},\n\u00a0 \u00a0 \u00a0 \"id\": \"475eaf3c-7e11-457e-8b72-4d3e683e2f80\",\n\u00a0 \u00a0 \u00a0 \"name\": \"Execute Workflow Trigger\",\n\u00a0 \u00a0 \u00a0 \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n\u00a0 \u00a0 \u00a0 \"typeVersion\": 1,\n\u00a0 \u00a0 \u00a0 \"position\": [\n\u00a0 \u00a0 \u00a0 \u00a0 260,\n\u00a0 \u00a0 \u00a0 \u00a0 340\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 },\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \"parameters\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \"url\": \"={{ $json.query.url }}\",\n\u00a0 \u00a0 \u00a0 \u00a0 \"options\": {}\n\u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \"id\": \"321fbc74-d749-4f9b-954e-7cad37601ddf\",\n\u00a0 \u00a0 \u00a0 \"name\": \"Visit Website\",\n\u00a0 \u00a0 \u00a0 \"type\": \"n8n-nodes-base.httpRequest\",\n\u00a0 \u00a0 \u00a0 \"typeVersion\": 4.2,\n\u00a0 \u00a0 \u00a0 \"position\": [\n\u00a0 \u00a0 \u00a0 \u00a0 440,\n\u00a0 \u00a0 \u00a0 \u00a0 340\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 },\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \"parameters\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \"operation\": \"extractHtmlContent\",\n\u00a0 \u00a0 \u00a0 \u00a0 \"extractionValues\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"values\": [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"key\": \"body\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"cssSelector\": \"html\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"skipSelectors\": \"head\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \u00a0 \"options\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"cleanUpText\": true\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \"id\": \"6e51732a-4999-4805-838b-f692e9965197\",\n\u00a0 \u00a0 \u00a0 \"name\": \"HTML\",\n\u00a0 \u00a0 \u00a0 \"type\": \"n8n-nodes-base.html\",\n\u00a0 \u00a0 \u00a0 \"typeVersion\": 1.2,\n\u00a0 \u00a0 \u00a0 \"position\": [\n\u00a0 \u00a0 \u00a0 \u00a0 620,\n\u00a0 \u00a0 \u00a0 \u00a0 340\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 }\n\u00a0 ],\n\u00a0 \"connections\": {\n\u00a0 \u00a0 \"Execute Workflow Trigger\": {\n\u00a0 \u00a0 \u00a0 \"main\": [\n\u00a0 \u00a0 \u00a0 \u00a0 [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"node\": \"Visit Website\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"type\": \"main\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"index\": 0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 },\n\u00a0 \u00a0 \"Visit Website\": {\n\u00a0 \u00a0 \u00a0 \"main\": [\n\u00a0 \u00a0 \u00a0 \u00a0 [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"node\": \"HTML\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"type\": \"main\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"index\": 0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 }\n\u00a0 },\n\u00a0 \"pinData\": {\n\u00a0 \u00a0 \"Execute Workflow Trigger\": [\n\u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"query\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"url\": \"https://www.lemlist.com\"\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 ]\n\u00a0 }\n}",
        "jsonSchemaExample": "{\n\t\"url\": \"https://www.lemlist.com\"\n}",
        "specifyInputSchema": true,
        "responsePropertyName": "body"
      },
      "typeVersion": 1.1
    },
    {
      "id": "ff7ab74c-dfc6-43ce-8c57-6edf935b4915",
      "name": "SerpAPI - Search Google",
      "type": "@n8n/n8n-nodes-langchain.toolSerpApi",
      "position": [
        2300,
        660
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "serpApi": {
          "id": "ECK6FimAloRJOZMG",
          "name": "SerpAPI account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "4fe311f2-4983-4380-b4ed-a827a406fce5",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2880,
        660
      ],
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"case_study_link\": {\n\t\t\t\"type\":[\"string\", \"null\"]\n\t\t},\n\u00a0 \u00a0 \u00a0 \t\t\"domain\": {\n\t\t\t\"type\": [\"string\", \"null\"]\n\t\t},\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"linkedinUrl\": {\n\t\t\t\"type\": [\"string\", \"null\"]\n\t\t},\n\u00a0 \u00a0 \u00a0\t\"market\": {\n\t\t\t\"type\": [\"string\", \"null\"]\n\t\t},\n\t\t\"cheapest_plan\": {\n\t\t\t\"type\": [\"number\", \"null\"]\n\t\t},\n\t\"has_enterprise_plan\": {\n\t\t\t\"type\": [\"boolean\", \"null\"]\n\t\t},\n\t\"has_API\": {\n\t\t\t\"type\": [\"boolean\", \"null\"]\n\t\t},\n\t\"has_free_trial\": {\n\t\t\t\"type\": [\"boolean\", \"null\"]\n\t\t},\n\t\"integrations\": {\n\t\t\t\"type\": [\"array\",\"null\"],\n\u00a0 \u00a0 \u00a0 \"items\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t}\n\t}\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "89ed0723-4dbe-428d-b1a9-ebdf515e42bb",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        1600,
        340
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "34ea3862-e8e5-4bf2-a9aa-2ad084376bb5",
      "name": "AI Researcher Output Data",
      "type": "n8n-nodes-base.set",
      "position": [
        2960,
        340
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "4109ca11-1bb8-4f5c-8bec-a962f44b0746",
              "name": "domain",
              "type": "string",
              "value": "={{ $json.output.domain }}"
            },
            {
              "id": "7f492768-375e-48fa-866b-644b2b5cbd68",
              "name": "linkedinUrl",
              "type": "string",
              "value": "={{ $json.output.linkedinUrl }}"
            },
            {
              "id": "e30b0d07-68db-45a1-9593-fd6ce24a1d50",
              "name": "market",
              "type": "string",
              "value": "={{ $json.output.market }}"
            },
            {
              "id": "0c03a51e-2c07-4583-85c6-d3d2ee81c5d1",
              "name": "cheapest_plan",
              "type": "number",
              "value": "={{ $json.output.cheapest_plan }}"
            },
            {
              "id": "0c9622d0-8446-4663-9a94-964b5df851f1",
              "name": "has_enterprise_plan",
              "type": "boolean",
              "value": "={{ $json.output.has_enterprise_plan }}"
            },
            {
              "id": "564cf6ea-457f-4762-bc19-6900b7d5743c",
              "name": "has_API",
              "type": "boolean",
              "value": "={{ $json.output.has_API }}"
            },
            {
              "id": "7fd39897-65c3-45d6-9563-8254f55ecef0",
              "name": "has_free_trial",
              "type": "boolean",
              "value": "={{ $json.output.has_free_trial }}"
            },
            {
              "id": "26477939-d407-4cae-92b2-9a9dc0f53a64",
              "name": "integrations",
              "type": "array",
              "value": "={{ $json.output.integrations }}"
            },
            {
              "id": "f0cc61d1-6b6b-4142-8627-4a4c721b19a1",
              "name": "case_study_link",
              "type": "string",
              "value": "={{ $json.output.case_study_link }}"
            }
          ]
        }
      },
      "typeVersion": 3.3
    },
    {
      "id": "ff1cb26d-6138-4ee1-9f28-4ecc80c1c8ae",
      "name": "Google Sheets - Update Row with data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        3600,
        700
      ],
      "parameters": {
        "columns": {
          "value": {
            "domain": "={{ $json.domain }}",
            "market": "={{ $json.market }}",
            "row_number": "={{ $json.row_number }}",
            "linkedinUrl": "={{ $json.linkedinUrl }}",
            "integrations": "={{ $json.integrations }}",
            "cheapest_plan": "={{ $json.cheapest_plan }}",
            "has_free_trial": "={{ $json.has_free_trial }}",
            "enrichment_status": "done",
            "has_entreprise_plan": "={{ $json.has_enterprise_plan }}",
            "last_case_study_link": "={{ $json.case_study_link }}"
          },
          "schema": [
            {
              "id": "input",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "input",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "domain",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "domain",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "linkedinUrl",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "linkedinUrl",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "has_free_trial",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "has_free_trial",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "cheapest_plan",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "cheapest_plan",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "has_entreprise_plan",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "has_entreprise_plan",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "last_case_study_link",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "last_case_study_link",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "market",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "market",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "integrations",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "integrations",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "enrichment_status",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "enrichment_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "row_number"
          ]
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y/edit#gid=0",
          "cachedResultName": "Sheet1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y/edit?usp=drivesdk",
          "cachedResultName": "AI Agent for Automated Company Research & Lead Enrichment"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GC2OQl3Jvy543LT2",
          "name": "Google Sheets account - lompa"
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "6611f852-b4d6-4a07-9428-db206ef57cc3",
      "name": "Merge data",
      "type": "n8n-nodes-base.merge",
      "position": [
        3240,
        180
      ],
      "parameters": {
        "mode": "combine",
        "options": {},
        "combinationMode": "mergeByPosition"
      },
      "typeVersion": 2.1
    },
    {
      "id": "2a19516b-33a1-4987-9b5f-242a084621e0",
      "name": "Read Me",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        380,
        240
      ],
      "parameters": {
        "width": 409.0131656322444,
        "height": 658.0614601225933,
        "content": "## \ud83e\udd16 AI Agent: Automated Company Research\n\nThis workflow uses an AI agent to automatically research companies from a Google Sheet and enrich it with valuable data.\n\n---\n\n### \ud83d\ude80 **Features**\n\nFrom just a company name, the AI agent can find:\n- Company Domain & LinkedIn URL\n- Market Focus (B2B or B2C)\n- Pricing Information (Cheapest Plan, Enterprise Plan)\n- Free Trial Availability\n- API Availability\n- Software Integrations\n- Link to the latest Case Study\n\n---\n\n### \ud83d\udee0\ufe0f **How to Use**\n\n**1. Copy the Google Sheet:**\n- [Click here to get the Google Sheet template.](https://docs.google.com/spreadsheets/d/1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y/edit?usp=sharing)\n- Make a copy for your own Google Drive.\n\n**2. Configure the Google Sheets Nodes:**\n- In the \"Get rows to enrich\" and \"Google Sheets - Update Row with data\" nodes, connect your Google Account and select the sheet you just created.\n\n**3. Add Your Credentials:**\n- **OpenAI:** Add your API key to the \"OpenAI Chat Model\" node.\n- **Search Tool:** This template provides two options for search. You only need one.\n    - **SerpAPI (Easy):** Add your key to the \"SerpAPI - Search Google\" node.\n    - **ScrapingBee (Cheaper):** Add your key to the \"Search Google with ScrapingBee\" node. *Make sure to connect this node to the AI Agent instead of the SerpAPI one if you use it.*\n\n**4. Run the Workflow:**\n- Add company names to your Google Sheet under the `input` column.\n- Run the workflow manually or set the schedule to run automatically.\n\n---\n\n### \ud83d\udca1 **Customize Your Research**\n\nThe real power is in customization!\n- **AI Prompt:** Modify the \"AI company researcher\" node to ask for different information.\n- **Output Format:** Update the \"Structured Output Parser\" to match the new data points you've requested in the prompt."
      },
      "typeVersion": 1
    },
    {
      "id": "67d485c9-3289-4bb3-9523-cd24c0b1aa05",
      "name": "Get rows to enrich",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1140,
        340
      ],
      "parameters": {
        "options": {
          "returnAllMatches": "returnAllMatches"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "enrichment_status"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y/edit#gid=0",
          "cachedResultName": "Sheet1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y/edit?usp=drivesdk",
          "cachedResultName": "AI Agent for Automated Company Research & Lead Enrichment"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GC2OQl3Jvy543LT2",
          "name": "Google Sheets account - lompa"
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "eb0c95e7-2211-48d1-abaf-07cd0c76d3a6",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1540,
        227.25301102878547
      ],
      "parameters": {
        "width": 300.49399096535876,
        "height": 333.8263184006576,
        "content": "### Process One by One\n\nThis Split in Batches node ensures companies are researched individually. This makes the workflow more stable and easier to debug."
      },
      "typeVersion": 1
    },
    {
      "id": "8bf0deae-dda7-4e27-9ac7-978db14cca19",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2740,
        560
      ],
      "parameters": {
        "width": 300.49399096535876,
        "height": 236.01118609685022,
        "content": "\ud83c\udfaf **Define Your Output**\n\nSpecify the exact JSON schema the AI should follow for its response. This must match the data you request in the main AI prompt."
      },
      "typeVersion": 1
    },
    {
      "id": "dc4f1550-1e3c-4175-a2b3-10153dc2fd77",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2180,
        200.2582716310755
      ],
      "parameters": {
        "width": 300.49399096535876,
        "height": 279.8787004666023,
        "content": "\ud83e\udde0 **The AI's Brain**\n\nThis is the main prompt! Edit the text here to tell the AI exactly what information to find."
      },
      "typeVersion": 1
    },
    {
      "id": "70fc73a0-303b-46e1-822d-cebdbccf8e32",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2220,
        580
      ],
      "parameters": {
        "height": 248.91749449109562,
        "content": "Get your free API key here https://serpapi.com/"
      },
      "typeVersion": 1
    },
    {
      "id": "0c1dafa9-28fe-4ef4-b80e-d4034e16f6c0",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        920,
        580
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 2
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "8b5ebee9-f519-4621-bf2a-12891794f2c5",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        820,
        240
      ],
      "parameters": {
        "width": 266.12865147126786,
        "height": 627.5654650079845,
        "content": "\u25b6\ufe0f **Activate**\n\nRun the workflow manually or activate the schedule trigger to run it automatically."
      },
      "typeVersion": 1
    },
    {
      "id": "d7db2452-ba3d-4adb-bd8b-d17a92d1bce5",
      "name": "AI company researcher",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2200,
        340
      ],
      "parameters": {
        "text": "=This is the company I want you to research info about:\n{{ $json.company_input }}\n\nReturn me:\n- the linkedin URL of the company\n- the domain of the company. in this format ([domain].[tld])\n- market: if they are B2B or B2C. Only reply by \"B2B\" or \"B2C\"\n- the lowest paid plan the company is offering. If you are not sure, reply null.\n- the latest case study URL published on the website (find case study hub using google, and return the first case study link)\n- tell me if the company offer an API\n- tell me if the company has an enterprise plan\n- tell me if the company has a free trial mentionned in their homepage. reply false if you don't find strong evidence.\n- return an array with up to 5 tools the company is integrated with",
        "options": {
          "maxIterations": 10
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.6
    },
    {
      "id": "f7896dbd-5c15-44e9-96ca-c695a66562cc",
      "name": "Search Google with ScrapingBee",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        2300,
        1140
      ],
      "parameters": {
        "name": "search_google",
        "source": "parameter",
        "description": "Call this tool to get results from a google search.",
        "workflowJson": "{\n\u00a0 \"meta\": {\n\u00a0 \u00a0 \"templateCredsSetupCompleted\": true,\n\u00a0 \u00a0 \"instanceId\": \"2b1cc1a8b0a2fb9caab11ab2d5eb3712f9973066051b2e898cf4041a1f2a7757\"\n\u00a0 },\n\u00a0 \"nodes\": [\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \"parameters\": {},\n\u00a0 \u00a0 \u00a0 \"id\": \"fbb17d8d-e2dc-46ae-aba4-8c27cc9d8766\",\n\u00a0 \u00a0 \u00a0 \"name\": \"Execute Workflow Trigger\",\n\u00a0 \u00a0 \u00a0 \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n\u00a0 \u00a0 \u00a0 \"typeVersion\": 1,\n\u00a0 \u00a0 \u00a0 \"position\": [\n\u00a0 \u00a0 \u00a0 \u00a0 20,\n\u00a0 \u00a0 \u00a0 \u00a0 460\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 },\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \"parameters\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \"url\": \"https://app.scrapingbee.com/api/v1/store/google\",\n\u00a0 \u00a0 \u00a0 \u00a0 \"authentication\": \"genericCredentialType\",\n\u00a0 \u00a0 \u00a0 \u00a0 \"genericAuthType\": \"httpQueryAuth\",\n\u00a0 \u00a0 \u00a0 \u00a0 \"sendQuery\": true,\n\u00a0 \u00a0 \u00a0 \u00a0 \"queryParameters\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"parameters\": [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"name\": \"search\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"value\": \"={{ $json.query.Google Search_query }}\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"name\": \"language\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"value\": \"en\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"name\": \"nb_results\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"value\": \"5\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \u00a0 \"options\": {}\n\u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \"id\": \"b938a2bd-030e-46d7-adee-4e3c85cfc1b3\",\n\u00a0 \u00a0 \u00a0 \"name\": \"Search Google\",\n\u00a0 \u00a0 \u00a0 \"type\": \"n8n-nodes-base.httpRequest\",\n\u00a0 \u00a0 \u00a0 \"typeVersion\": 4.2,\n\u00a0 \u00a0 \u00a0 \"position\": [\n\u00a0 \u00a0 \u00a0 \u00a0 300,\n\u00a0 \u00a0 \u00a0 \u00a0 460\n\u00a0 \u00a0 \u00a0 ],\n\u00a0 \u00a0 \u00a0 \"credentials\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \"httpQueryAuth\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"id\": \"Pb2CIMT0tN838QPy\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"name\": \"ScrapingBee\"\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 },\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \"parameters\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \"assignments\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"assignments\": [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"id\": \"096fee70-444e-4948-816c-752b20786062\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"name\": \"response\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"value\": \"={{ $json.organic_results }}\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"type\": \"array\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \u00a0 \"options\": {}\n\u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 \u00a0 \"id\": \"c5db1fb6-d875-47d2-97db-287777583f22\",\n\u00a0 \u00a0 \u00a0 \"name\": \"Response\",\n\u00a0 \u00a0 \u00a0 \"type\": \"n8n-nodes-base.set\",\n\u00a0 \u00a0 \u00a0 \"typeVersion\": 3.3,\n\u00a0 \u00a0 \u00a0 \"position\": [\n\u00a0 \u00a0 \u00a0 \u00a0 520,\n\u00a0 \u00a0 \u00a0 \u00a0 460\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 }\n\u00a0 ],\n\u00a0 \"connections\": {\n\u00a0 \u00a0 \"Execute Workflow Trigger\": {\n\u00a0 \u00a0 \u00a0 \"main\": [\n\u00a0 \u00a0 \u00a0 \u00a0 [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"node\": \"Search Google\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"type\": \"main\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"index\": 0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 },\n\u00a0 \u00a0 \"Search Google\": {\n\u00a0 \u00a0 \u00a0 \"main\": [\n\u00a0 \u00a0 \u00a0 \u00a0 [\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"node\": \"Response\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"type\": \"main\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"index\": 0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 \u00a0 ]\n\u00a0 \u00a0 }\n\u00a0 },\n\u00a0 \"pinData\": {\n\u00a0 \u00a0 \"Execute Workflow Trigger\": [\n\u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"query\": {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"Google Search_query\": \"site:lemlist.com pricing\"\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 ]\n\u00a0 }\n}",
        "jsonSchemaExample": "{\n\t\"Google Search_query\": \"site:lemlist.com pricing\"\n}",
        "specifyInputSchema": true
      },
      "typeVersion": 1.1
    },
    {
      "id": "7a89c803-8145-49c2-aafe-ec2aff0b2fbc",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2220,
        940
      ],
      "parameters": {
        "height": 340.14969579315925,
        "content": "### Cost-Effective Search \ud83d\udcb0\n\nScrapingBee can be a cheaper alternative to SerpAPI for Google searches.\n\nGet your free API key at [scrapingbee.com](https://www.scrapingbee.com/).\n\n**Remember to connect this tool to the AI Agent if you use it!**"
      },
      "typeVersion": 1
    },
    {
      "id": "79eff129-790b-46da-bef3-899eb6db3ced",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1100,
        -20
      ],
      "parameters": {
        "width": 194.6864335083109,
        "height": 525.6560478822986,
        "content": "\ud83d\udcc4 **Get Your Sheet!**\n\n[Grab the Google Sheet template here](https://docs.google.com/spreadsheets/d/1_F_An3yLSCsjgLN5w9RcJN-lJj_6mUT1nngMJPYws2Y/edit?usp=sharing) and follow the main \"Read Me\" instructions to set it up."
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Input": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge data": {
      "main": [
        [
          {
            "node": "Google Sheets - Update Row with data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        null,
        [
          {
            "node": "AI company researcher",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Get rows to enrich",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI company researcher",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get rows to enrich": {
      "main": [
        [
          {
            "node": "Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get website content": {
      "ai_tool": [
        [
          {
            "node": "AI company researcher",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI company researcher": {
      "main": [
        [
          {
            "node": "AI Researcher Output Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SerpAPI - Search Google": {
      "ai_tool": [
        [
          {
            "node": "AI company researcher",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI company researcher",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "AI Researcher Output Data": {
      "main": [
        [
          {
            "node": "Merge data",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "When clicking \"Test workflow\"": {
      "main": [
        [
          {
            "node": "Get rows to enrich",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets - Update Row with data": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "_metadata": {
    "name": "Automated Company Research & Lead Enrichment with GPT-4o and Google Sheets",
    "used_count": 0,
    "popularity_score": 25,
    "source_url": "https://n8n.io/workflows/6776",
    "scraped_at": "2025-08-21 03:02:22",
    "workflow_id": "daaf1e57-c9db-5d76-93a9-609f4cedbee4"
  },
  "_filename": "Automated_Company_Research_Lead_Enrichment_with_GPT_4o_and_Google_Sheets.json"
}